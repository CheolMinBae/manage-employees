"use strict";(()=>{var e={};e.id=109,e.ids=[109],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73461:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>R,patchFetch:()=>j,requestAsyncStorage:()=>v,routeModule:()=>g,serverHooks:()=>y,staticGenerationAsyncStorage:()=>x});var r={};n.r(r),n.d(r,{DELETE:()=>f,GET:()=>m,POST:()=>h,PUT:()=>w});var s=n(5299),a=n(73024),o=n(10486),i=n(54534),u=n(82715),d=n(11185),p=n.n(d);let c=new d.Schema({userId:{type:String,required:!0},date:{type:String,required:!0},start:{type:String,required:!0},end:{type:String,required:!0},approved:{type:Boolean,default:!1}},{timestamps:!0}),l=p().models.Schedule||p().model("Schedule",c);async function m(){await (0,u.Z)();let e=await l.find();return i.NextResponse.json(e)}async function h(e){await (0,u.Z)();let t=await e.json(),n=await l.create(t);return i.NextResponse.json(n)}async function w(e){await (0,u.Z)();let{id:t,...n}=await e.json(),r=await l.findByIdAndUpdate(t,n,{new:!0});return i.NextResponse.json(r)}async function f(e){await (0,u.Z)();let{searchParams:t}=new URL(e.url),n=t.get("id");return n?(await l.findByIdAndDelete(n),i.NextResponse.json({success:!0})):i.NextResponse.json({error:"Missing id"},{status:400})}let g=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/schedules/route",pathname:"/api/schedules",filename:"route",bundlePath:"app/api/schedules/route"},resolvedPagePath:"/Users/cheolminbae/workspace/manage-employees/src/app/api/schedules/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:v,staticGenerationAsyncStorage:x,serverHooks:y}=g,R="/api/schedules/route";function j(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:x})}},82715:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(11185),s=n.n(r);let a=process.env.MONGODB_URI;if(!a)throw Error("❌ Please define the MONGODB_URI environment variable inside .env.local");let o=global.mongoose||{conn:null,promise:null};async function i(){return o.conn||(o.promise||(o.promise=s().connect(a,{bufferCommands:!1})),o.conn=await o.promise),o.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[11,744],()=>n(73461));module.exports=r})();